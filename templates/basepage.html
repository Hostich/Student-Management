<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="ie-edge">
		<meta name="viewport" content="width=device-width,initial-scale=1.0">
		<link rel="stylesheet" href="{{ url_for('static', filename='css/w3.css') }}">
		<title>Student Management</title>
	</head>
	<style>
		#photo {
		  display: none;
		}
		.custom-upload {
		  background-color: #3498db;
		  color: white;
		  padding: 8px 14px;
		  border-radius: 8px;
		  cursor: pointer;
		  transition: 0.3s;
		}
		.custom-upload:hover {
		  background-color: #2980b9;
		}
	</style>
	<body>
		<div class="w3-bar w3-container w3-indigo" style="position:sticky;top:0">
			<h4>Student Management v1.0</h4>
		</div>
		<div class="w3-container w3-padding">
			{% block content %}
			{% endblock %}
		</div>
		<center>
		</center>
		<script>
			function deletestudent(id){
				var ok=confirm("Delete this Student?");
				if(ok){
					location.href="/deletestudent?id="+id;
				}
			}
			function editstudent(id, idno, lastname, firstname, course, level,image){
				document.getElementById('id').value = id;
				document.getElementById('idno').value = idno;
				document.getElementById('lastname').value = lastname;
				document.getElementById('firstname').value = firstname;
				document.getElementById('course').value = course;
				document.getElementById('level').value = level;
				document.getElementById('type').value = 'edit';
				document.querySelector('input[type="submit"]').value = 'UPDATE';
				
				document.getElementById("preview").src = image 
				? `/static/uploads/${image}` 
				: `/static/images/account.png`;
			}
			function resetForm() {
			  document.getElementById('id').value = '';
			  document.getElementById('type').value = 'add';
			  document.querySelector("input[type='submit']").value = 'SAVE';
			  document.getElementById("preview").src = "{{ url_for('static', filename='images/account.png') }}";
			}
			function previewImage(event){
				const file = event.target.files[0];
				const preview = document.getElementById('preview')
				
				if (file){
					const reader = new FileReader();
					reader.onload = function(e){
						preview.src = e.target.result;
					}
					reader.readAsDataURL(file);
				}
				else{
					preview.src="{{ url_for('static',filename='images/account.png') }}";
				}
			}
		</script>
	</body>
</html>

